---- DROP PROCEDURE SP_IFRS_RUNNING_LOG;

CREATE OR REPLACE PROCEDURE SP_IFRS_RUNNING_LOG(
	IN P_DOWNLOAD_DATE DATE DEFAULT NULL::DATE,
	IN P_STORENAME VARCHAR(100) DEFAULT NULL, 
	IN P_RUNID VARCHAR(20) DEFAULT 'S_00000_0000',
	IN P_PROCESS_ID BIGINT DEFAULT PG_BACKEND_PID(),
	IN P_PROCESS_DATE DATE DEFAULT NULL::DATE)
LANGUAGE PLPGSQL AS $$
BEGIN
	---- INSERT LOG
	INSERT INTO IFRS_RUNNING_LOGS (DOWNLOAD_DATE, SP_NAME, RUN_ID, PROCESS_ID, PROCESS_DATE) VALUES (P_DOWNLOAD_DATE,P_STORENAME,P_RUNID,P_PROCESS_ID,CLOCK_TIMESTAMP());
END;
$$;
